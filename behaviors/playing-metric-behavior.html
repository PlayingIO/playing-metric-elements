<link rel="import" href="../../mostly-elements/behaviors/mostly-func-behavior.html">

<script>
  var Playing = Playing || {};

  /**
   * @polymerBehavior Playing.MetricBehavior
   */
  Playing.MetricBehavior = [Mostly.FuncBehavior, {

    properties: {

    },

    metricHeading(type) {
      return this.i18n('play.metric.' + type + '.heading');
    },

    metricPath(type, metric) {
      if (metric && metric.type && metric.id) {
        return metric.type + 's/' + metric.id;
      } else {
        return type + 's/' + metric;
      }
    },

    layoutHref(type, layout) {
      return type && this.resolveUrl(`playing-${layout}-${type}.html`);
    },

    layoutModel() {
      return {
        metric: this.metric,
        "new": true
      };
    },

    emptyMetric() {
      return { constraints: {} };
    },

    resetFields() {
      this.metric = this.emptyMetric();
      this.errors = '';
    },

    hasErrors() {
      return this.errors !== '';
    }
  }];
</script>
